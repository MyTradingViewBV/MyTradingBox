import{b as D}from"./chunk-KR6WFCLZ.js";import{a as W,b as B,c as V}from"./chunk-24MEMMT2.js";import{Fa as y,Ja as T,Na as E,V as k,a as v,b as w,e as O,ea as I,g as S,t as P}from"./chunk-IZRZALSS.js";import{$a as o,Fb as m,Gb as e,Hb as n,Nb as C,Rb as p,Sb as x,eb as d,ec as a,fc as r,lb as M,pa as f,pc as b,qa as g,qb as _,qc as u}from"./chunk-UUWLZ6VI.js";function j(c,i){if(c&1){let t=C();e(0,"mat-card",6),p("click",function(){let s=f(t).$implicit,h=x();return g(h.goToChart(s.Symbol,s.Timeframe))}),e(1,"div",7)(2,"span",8),a(3),n(),e(4,"span",9),a(5),n()(),e(6,"div",10)(7,"mat-chip-listbox",11)(8,"mat-chip"),a(9),n(),e(10,"mat-chip",12),a(11),n()(),e(12,"span",13),a(13),b(14,"date"),n()()()}if(c&2){let t=i.$implicit;o(3),r(t.Symbol),o(2),r(t.Timeframe),o(4),r(t.Status),o(),m("ngClass",t.Direction.toLowerCase()),o(),r(t.Direction),o(2),r(u(14,6,t.CreatedAt,"HH:mm"))}}function $(c,i){if(c&1){let t=C();e(0,"mat-card",6),p("click",function(){let s=f(t).$implicit,h=x();return g(h.goToChart(s.Symbol,s.Timeframe))}),e(1,"div",7)(2,"span",8),a(3),n(),e(4,"span",9),a(5),n()(),e(6,"div",10)(7,"mat-chip-listbox",11)(8,"mat-chip"),a(9),n(),e(10,"mat-chip",12),a(11),n(),e(12,"mat-chip",14),a(13),n(),e(14,"mat-chip"),a(15),n()(),e(16,"span",13),a(17),b(18,"date"),n()()()}if(c&2){let t=i.$implicit;o(3),r(t.Symbol),o(2),r(t.Timeframe),o(4),r(t.Status),o(),m("ngClass",t.Direction.toLowerCase()),o(),r(t.Direction),o(2),r(t.MonitoringStatus),o(2),r(t.EntryOption),o(2),r(u(18,8,t.CreatedAt,"HH:mm"))}}var F=class c{constructor(i,t,l){this._marketService=i;this._snackbar=t;this.router=l}watchlist=[];get btcDivItems(){return this.watchlist?.filter(i=>i.Status==="BTC-DIV")??[]}get otherItems(){return this.watchlist?.filter(i=>i.Status!=="BTC-DIV")??[]}ngOnInit(){this._marketService.getWatchlist().subscribe(i=>{this.watchlist=i,console.log("watchlist fetched:",this.watchlist)})}goToChart(i,t){this.router.navigate(["/chartTest",i,t])}refresh(){this._marketService.getWatchlist().subscribe(i=>{this.watchlist=i,console.log("watchlist refreshed:",this.watchlist),this._snackbar.open("watchlist refreshed","Close",{duration:2e3})})}back(){window.history.back()}remove(i){this._snackbar.open(`Removed ${i.Symbol} from watchlist`,"Close",{duration:2e3})}static \u0275fac=function(t){return new(t||c)(d(E),d(I),d(P))};static \u0275cmp=M({type:c,selectors:[["app-watchlist"]],decls:13,vars:2,consts:[[1,"watchlist-container"],[1,"header-actions"],["mat-button","",3,"click"],[1,"scrollable-list"],[1,"group-label"],["class","watchlist-row-card",3,"click",4,"ngFor","ngForOf"],[1,"watchlist-row-card",3,"click"],[1,"row-top"],[1,"symbol"],[1,"timeframe"],[1,"row-bottom"],[1,"chip-list"],[3,"ngClass"],[1,"created"],["color","accent"]],template:function(t,l){t&1&&(e(0,"div",0)(1,"div",1)(2,"button",2),p("click",function(){return l.back()}),a(3,"back"),n(),e(4,"button",2),p("click",function(){return l.refresh()}),a(5,"refresh"),n()(),e(6,"div",3)(7,"h3",4),a(8,"BTC-DIV"),n(),_(9,j,15,9,"mat-card",5),e(10,"h3",4),a(11,"Other"),n(),_(12,$,19,11,"mat-card",5),n()()),t&2&&(o(9),m("ngForOf",l.btcDivItems),o(3),m("ngForOf",l.otherItems))},dependencies:[S,v,w,T,y,k,V,W,B,D,O],styles:[".watchlist-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.scrollable-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:8px}.group-label[_ngcontent-%COMP%]{margin:12px 0 4px;font-weight:600;font-size:14px;color:#3f51b5;text-transform:uppercase}.watchlist-row-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:8px 12px;margin-bottom:8px;border-left:4px solid #3f51b5}.row-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:600}.row-bottom[_ngcontent-%COMP%]{margin-top:4px;display:flex;align-items:center;gap:8px}.row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]{display:flex;gap:4px}.row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{height:22px;font-size:12px;padding:0 6px}.row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   .bear[_ngcontent-%COMP%], .row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   .short[_ngcontent-%COMP%]{background:#e57373;color:#fff}.row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   .bull[_ngcontent-%COMP%], .row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   .long[_ngcontent-%COMP%]{background:#81c784;color:#fff}.row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   .divergence[_ngcontent-%COMP%]{background:#64b5f6;color:#fff}.row-bottom[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{background:#bdbdbd;color:#fff}.row-bottom[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{font-size:11px;color:gray;margin-left:auto}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px;margin:8px}"]})};export{F as WatchlistComponent};
